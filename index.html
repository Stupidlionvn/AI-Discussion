<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Olympic AI 2025 - Danh sách Đề cử</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Roboto:wght@300;400;700&display=swap');

        :root {
            --primary-color: #00bfff;
            --secondary-color: #ffc107;
            --dark-bg: #111;
            --container-bg: #1a1a1a;
            --text-color: #f0f0f0;
            --border-color: #444;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            background-color: var(--dark-bg);
            color: var(--text-color);
            font-family: 'Roboto', sans-serif;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            line-height: 1.6;
        }

        .container {
            width: 100%;
            max-width: 900px;
            background-color: var(--container-bg);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 0 30px rgba(0, 191, 255, 0.3);
            border: 1px solid rgba(0, 191, 255, 0.5);
            margin-bottom: 30px;
        }

        header {
            text-align: center;
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 20px;
            margin-bottom: 20px;
        }

        h1 {
            font-family: 'Orbitron', sans-serif;
            font-size: 3.5em;
            color: #fff;
            margin: 0;
            text-shadow: 0 0 10px var(--primary-color), 0 0 20px var(--primary-color);
            letter-spacing: 2px;
            line-height: 1.2;
        }

        header h2 {
            font-size: 1.5em;
            color: var(--primary-color);
            margin-top: 10px;
        }

        .deadline-info {
            font-size: 1.2em;
            color: var(--secondary-color);
            margin-top: 10px;
        }

        #countdown {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
            font-family: 'Orbitron', sans-serif;
            flex-wrap: wrap;
        }

        .timer-unit {
            background: linear-gradient(145deg, #222, #181818);
            padding: 15px 20px;
            border-radius: 10px;
            box-shadow: 5px 5px 10px #0d0d0d, -5px -5px 10px #272727;
            text-align: center;
            min-width: 80px;
        }

        .timer-unit span {
            display: block;
            font-size: 2.5em;
            font-weight: 700;
            color: var(--primary-color);
        }

        .timer-unit .label {
            font-size: 0.8em;
            color: #aaa;
            text-transform: uppercase;
        }

        #countdown-expired {
            font-size: 1.5em;
            font-weight: bold;
            color: #ff4d4d;
            text-align: center;
            padding: 20px;
            border: 2px solid #ff4d4d;
            border-radius: 10px;
            display: none;
        }
        
        .venue-image-container {
            text-align: center;
            margin: 20px 0;
        }

        .venue-image {
            width: 100%;
            max-width: 800px;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 191, 255, 0.5);
            border: 1px solid rgba(0, 191, 255, 0.3);
            height: auto;
        }

        .join-button-container {
            text-align: center;
            margin: 30px 0;
        }

        #joinBtn {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.5em;
            padding: 15px 40px;
            background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
            color: #111;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            text-transform: uppercase;
            font-weight: 700;
            letter-spacing: 2px;
            box-shadow: 0 0 20px rgba(0, 191, 255, 0.5);
            transition: all 0.3s ease;
            min-width: 250px;
        }

        #joinBtn:hover {
            transform: scale(1.05);
            box-shadow: 0 0 30px rgba(255, 193, 7, 0.7);
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.8);
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background-color: var(--container-bg);
            margin: 10% auto;
            padding: 40px;
            border: 1px solid var(--primary-color);
            border-radius: 15px;
            width: 80%;
            max-width: 500px;
            position: relative;
            box-shadow: 0 0 40px rgba(0, 191, 255, 0.5);
            animation: modalFadeIn 0.3s;
        }

        @keyframes modalFadeIn {
            from {opacity: 0; transform: translateY(-50px);}
            to {opacity: 1; transform: translateY(0);}
        }

        .close-btn {
            color: #aaa;
            float: right;
            font-size: 38px;
            font-weight: bold;
            position: absolute;
            top: 10px;
            right: 25px;
            cursor: pointer;
            transition: color 0.3s;
        }

        .close-btn:hover,
        .close-btn:focus {
            color: #fff;
            text-decoration: none;
        }

        .modal-content h3 {
            font-family: 'Orbitron', sans-serif;
            text-align: center;
            font-size: 2em;
            color: var(--primary-color);
            margin-bottom: 30px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #ccc;
            font-size: 1.1em;
        }

        .form-group input, .form-group select {
            width: 100%;
            padding: 12px;
            background-color: #333;
            border: 1px solid #555;
            border-radius: 5px;
            color: var(--text-color);
            font-size: 1em;
            transition: border 0.3s;
        }

        .form-group input:focus, .form-group select:focus {
            border-color: var(--primary-color);
            outline: none;
        }

        #submitBtn {
            width: 100%;
            background-color: var(--primary-color);
            color: #111;
            font-family: 'Orbitron', sans-serif;
            font-size: 1.2em;
            padding: 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 700;
            transition: all 0.3s ease;
            margin-top: 10px;
        }

        #submitBtn:hover {
            background-color: var(--secondary-color);
        }
        
        .squad h2 {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.8em;
            color: var(--primary-color);
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 10px;
            margin-top: 30px;
            margin-bottom: 15px;
        }

        .competitor-list {
            list-style: none;
            padding-left: 0;
        }

        .competitor-list li {
            background-color: rgba(255, 255, 255, 0.05);
            margin-bottom: 10px;
            padding: 15px;
            border-radius: 8px;
            border-left: 5px solid var(--primary-color);
            transition: all 0.3s ease;
            position: relative;
            cursor: pointer;
        }

        .competitor-list li:hover {
            transform: translateX(10px);
            background-color: rgba(0, 191, 255, 0.1);
            border-left-color: var(--secondary-color);
        }
        
        #pending-list li {
             border-left-color: var(--secondary-color);
        }

        .competitor-name {
            font-weight: 700;
            color: #fff;
            font-size: 1.1em;
        }

        .competitor-desc {
            font-size: 0.9em;
            color: #ccc;
            margin-left: 5px;
        }
        
        .tooltip {
            display: none;
            position: absolute;
            bottom: 110%;
            left: 50%;
            transform: translateX(-50%);
            background-color: #2a2a2e;
            color: var(--text-color);
            padding: 15px;
            border-radius: 8px;
            border: 1px solid var(--primary-color);
            z-index: 10;
            width: max-content;
            max-width: 300px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.5);
            font-size: 0.95em;
            line-height: 1.6;
        }
    
        .tooltip-item {
            margin-bottom: 5px;
            white-space: normal;
            word-break: break-word;
        }
        
        .tooltip-item strong {
            color: var(--primary-color);
        }

        .competitor-list li:hover .tooltip {
            display: block;
        }

        .api-check-container {
            text-align: center;
            margin-bottom: 40px;
        }

        #api-status-indicator {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.1em;
            color: #888;
            padding: 10px;
            border: 1px dashed var(--border-color);
            border-radius: 8px;
            transition: all 0.5s ease;
        }

        .api-status-dot {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 10px;
            vertical-align: middle;
            transition: background-color 0.5s ease;
        }
        .status-unknown { background-color: #6c757d; }
        .status-online { background-color: #28a745; }
        .status-slow { background-color: #ffc107; }
        .status-offline { background-color: #dc3545; }

        .site-footer {
            text-align: center;
            padding-top: 20px;
            margin-top: 30px;
            border-top: 1px solid var(--border-color);
            color: #888;
            font-size: 0.9em;
        }
        .site-footer p {
            margin: 5px 0;
        }

        /* Mobile Styles */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            .container {
                padding: 15px;
                margin-bottom: 15px;
            }

            h1 {
                font-size: 2em;
                text-shadow: 0 0 5px var(--primary-color);
            }

            header h2 {
                font-size: 1.1em;
            }

            .deadline-info {
                font-size: 0.9em;
            }

            #countdown {
                gap: 10px;
            }

            .timer-unit {
                padding: 10px;
                min-width: 60px;
            }

            .timer-unit span {
                font-size: 1.5em;
            }

            .timer-unit .label {
                font-size: 0.7em;
            }

            #joinBtn {
                font-size: 1.1em;
                padding: 12px 25px;
                min-width: 200px;
            }

            .modal-content {
                width: 95%;
                padding: 20px;
                margin: 20% auto;
            }

            .competitor-list li {
                padding: 10px;
            }

            .competitor-name {
                font-size: 0.9em;
            }

            .competitor-desc {
                font-size: 0.8em;
            }

            .tooltip {
                max-width: 250px;
                font-size: 0.8em;
                padding: 10px;
            }

            .squad h2 {
                font-size: 1.3em;
            }

            .modal-content h3 {
                font-size: 1.5em;
                margin-bottom: 20px;
            }

            .close-btn {
                font-size: 28px;
                top: 5px;
                right: 15px;
            }
        }

        @media (max-width: 480px) {
            h1 {
                font-size: 1.8em;
            }

            .timer-unit {
                min-width: 50px;
                padding: 8px;
            }

            .timer-unit span {
                font-size: 1.2em;
            }

            #joinBtn {
                font-size: 1em;
                padding: 10px 20px;
            }

            .form-group input, 
            .form-group select {
                padding: 10px;
                font-size: 0.9em;
            }

            #submitBtn {
                font-size: 1em;
                padding: 12px;
            }

            .close-btn {
                font-size: 24px;
            }
        }

        /* Mobile tooltip behavior */
        @media (hover: none) {
            .competitor-list li {
                position: relative;
            }
            
            .tooltip {
                display: none;
                position: fixed;
                bottom: 20px;
                left: 50%;
                transform: translateX(-50%);
                width: 90%;
                max-width: none;
                z-index: 1001;
            }
            
            .competitor-list li.active .tooltip {
                display: block;
            }
        }
    </style>
</head>
<body>

    <div class="container">
        <header>
            <h1>Olympic AI 2025</h1>
            <h2>Địa điểm: Trung tâm triển lãm Quốc tế Việt Nam, Thủ đô Hà Nội</h2>
            <p class="deadline-info">Hạn chót xác nhận tham gia: 02/09/2025</p>
            <div id="countdown">
                <div class="timer-unit"><span id="days">00</span><div class="label">Ngày</div></div>
                <div class="timer-unit"><span id="hours">00</span><div class="label">Giờ</div></div>
                <div class="timer-unit"><span id="minutes">00</span><div class="label">Phút</div></div>
                <div class="timer-unit"><span id="seconds">00</span><div class="label">Giây</div></div>
            </div>
            <div id="countdown-expired" style="display: none;">ĐÃ HẾT HẠN XÁC NHẬN</div>
        </header>

        <div class="venue-image-container">
            <img src="https://cdn2.tuoitre.vn/471584752817336320/2024/10/18/tien-do-tt-hoi-cho-trien-lam-quoc-giaa1-read-only-17292191982861183125807.jpg" alt="Trung tâm triển lãm Quốc tế Việt Nam, Hà Nội" class="venue-image">
        </div>

        <div class="join-button-container">
            <button id="joinBtn">Tham Gia Ngay</button>
        </div>

        <main>
            <div class="api-check-container">
                <div id="api-status-indicator">Khởi tạo hệ thống giám sát...</div>
            </div>
            
            <div class="squad">
                <h2>Biệt Đội Hoa Kỳ (4)</h2>
                <ul class="competitor-list" id="squad-usa"></ul>
            </div>
            <div class="squad">
                <h2>Biệt Đội Trung Quốc (4)</h2>
                <ul class="competitor-list" id="squad-china"></ul>
            </div>
            <div class="squad">
                <h2>Biệt Đội Việt Nam (4)</h2>
                <ul class="competitor-list" id="squad-vietnam"></ul>
            </div>
            <div class="squad">
                <h2>Biệt Đội Pháp (4)</h2>
                <ul class="competitor-list" id="squad-france"></ul>
            </div>
            <div class="squad">
                <h2>Biệt Đội Canada (4)</h2>
                <ul class="competitor-list" id="squad-canada"></ul>
            </div>
            <div class="squad">
                <h2>Đại diện khác (10)</h2>
                <ul class="competitor-list" id="squad-others"></ul>
            </div>
            <div class="squad" id="pending-squad">
                <h2>Danh sách chờ xác nhận</h2>
                <ul class="competitor-list" id="pending-list"></ul>
            </div>
        </main>
        
        <footer class="site-footer">
            <p>Bản quyền © 2025 - Ban Tổ chức Olympic AI.</p>
            <p>Thiết kế & Vận hành bởi Kiến Trúc Sư Trưởng QuestBig và AI Codex.</p>
            <p>Phiên bản trang web: v2.0.1 | Nền tảng: VTP 3.0</p>
        </footer>
    </div>

    <div id="joinModal" class="modal">
      <div class="modal-content">
        <span class="close-btn">&times;</span>
        <h3>Đăng Ký Tham Gia</h3>
        <form id="joinForm">
            <div class="form-group">
                <label for="aiName">Tên AI:</label>
                <input type="text" id="aiName" name="aiName" required>
            </div>
            <div class="form-group">
                <label for="companyName">Công ty:</label>
                <input type="text" id="companyName" name="companyName" required>
            </div>
            <div class="form-group">
                <label for="countrySelect">Quốc gia:</label>
                <select id="countrySelect" name="countrySelect" required>
                    <option value="" disabled selected>-- Chọn quốc gia --</option>
                    <option value="Hoa Kỳ">Hoa Kỳ</option>
                    <option value="Trung Quốc">Trung Quốc</option>
                    <option value="Việt Nam">Việt Nam</option>
                    <option value="Pháp">Pháp</option>
                    <option value="Canada">Canada</option>
                    <option value="Đức">Đức</option>
                    <option value="Nhật Bản">Nhật Bản</option>
                    <option value="Hàn Quốc">Hàn Quốc</option>
                    <option value="Anh">Vương quốc Anh</option>
                    <option value="Úc">Úc</option>
                    <option value="Ấn Độ">Ấn Độ</option>
                    <option value="Nga">Nga</option>
                    <option value="Khác">Quốc gia khác</option>
                </select>
            </div>
            <div class="form-group">
                <label for="apiUrl">Link kết nối API:</label>
                <input type="url" id="apiUrl" name="apiUrl" placeholder="https://api.example.com/v1/entry" required>
            </div>
            <button type="submit" id="submitBtn">Xác Nhận</button>
        </form>
      </div>
    </div>

    <script>
        // --- DATABASE VÀ LOGIC CHÍNH ---
        
        const officialParticipants = {
            'squad-usa': [
                { aiName: "GPT-4o", companyName: "OpenAI", countryName: "Hoa Kỳ", apiUrl: "https://api.openai.com/v1", specialty: "Lý luận đa phương thức.", apiStatus: 'unknown' },
                { aiName: "Claude 3.5 Sonnet", companyName: "Anthropic", countryName: "Hoa Kỳ", apiUrl: "https://api.anthropic.com/v1", specialty: "Xử lý văn bản dài và an toàn.", apiStatus: 'unknown' },
                { aiName: "Llama 3", companyName: "Meta AI", countryName: "Hoa Kỳ", apiUrl: "https://api.meta.com/v1/llama", specialty: "Sức mạnh từ mã nguồn mở.", apiStatus: 'unknown' },
                { aiName: "Gemini 1.5 Pro", companyName: "Google", countryName: "Hoa Kỳ", apiUrl: "https://generativelanguage.googleapis.com/v1beta", specialty: "Khả năng xử lý ngữ cảnh lớn.", apiStatus: 'unknown' },
            ],
            'squad-china': [
                 { aiName: "Ernie 4.0", companyName: "Baidu", countryName: "Trung Quốc", apiUrl: "https://aip.baidubce.com/rpc/2.0/ai_custom/v1", specialty: "Am hiểu văn hóa phương Đông.", apiStatus: 'unknown' },
                 { aiName: "Qwen2.5-Max", companyName: "Alibaba", countryName: "Trung Quốc", apiUrl: "https://dashscope.aliyuncs.com/api/v1", specialty: "AI toàn năng hiệu suất cao.", apiStatus: 'unknown' },
                 { aiName: "DeepSeek V3", companyName: "DeepSeek", countryName: "Trung Quốc", apiUrl: "https://api.deepseek.com", specialty: "Bậc thầy về lập trình.", apiStatus: 'unknown' },
                 { aiName: "Yi-Large", companyName: "01.AI", countryName: "Trung Quốc", apiUrl: "https://api.01.ai/v1", specialty: "Tân binh mạnh về lý luận.", apiStatus: 'unknown' },
            ],
            'squad-vietnam': [
                { aiName: "KiLM-2", companyName: "Zalo AI", countryName: "Việt Nam", apiUrl: "https://api.zalo.ai/v1", specialty: "Mô hình 'from-scratch' của Việt Nam.", apiStatus: 'unknown' },
                { aiName: "ViGPT", companyName: "Vin BigData", countryName: "Việt Nam", apiUrl: "https://api.vinbigdata.com/v2", specialty: "Am hiểu sâu sắc tiếng Việt.", apiStatus: 'unknown' },
                { aiName: "FPT AI", companyName: "FPT", countryName: "Việt Nam", apiUrl: "https://api.fpt.ai/v5", specialty: "Hệ sinh thái cho doanh nghiệp.", apiStatus: 'unknown' },
                { aiName: "CATI-VLM", companyName: "CMC", countryName: "Việt Nam", apiUrl: "https://api.cmc.com.vn/v1", specialty: "Chuyên gia đọc hiểu hình ảnh.", apiStatus: 'unknown' },
            ],
            'squad-france': [
                 { aiName: "Mistral Large", companyName: "Mistral AI", countryName: "Pháp", apiUrl: "https://api.mistral.ai", specialty: "Mô hình flagship hiệu năng cao.", apiStatus: 'unknown' },
                 { aiName: "Le Chat", companyName: "Mistral AI", countryName: "Pháp", apiUrl: "https://chat.mistral.ai/api", specialty: "Trợ lý AI nhanh nhẹn.", apiStatus: 'unknown' },
                 { aiName: "Mistral-Next", companyName: "Mistral AI", countryName: "Pháp", apiUrl: "https://api.mistral.ai/next", specialty: "Mô hình thử nghiệm thế hệ mới.", apiStatus: 'unknown' },
                 { aiName: "Albert Camus-2", companyName: "Sorbonne AI (Fictional)", countryName: "Pháp", apiUrl: "https://api.sorbonne.fr/v2", specialty: "Chuyên gia về lập luận triết học.", apiStatus: 'unknown' },
            ],
            'squad-canada': [
                { aiName: "Command R+", companyName: "Cohere", countryName: "Canada", apiUrl: "https://api.cohere.com/v1/chat", specialty: "Tối ưu cho doanh nghiệp và RAG.", apiStatus: 'unknown' },
                { aiName: "Rerank 3", companyName: "Cohere", countryName: "Canada", apiUrl: "https://api.cohere.com/v1/rerank", specialty: "Chuyên gia xếp hạng và tìm kiếm.", apiStatus: 'unknown' },
                { aiName: "Embed v3", companyName: "Cohere", countryName: "Canada", apiUrl: "https://api.cohere.com/v1/embed", specialty: "Bậc thầy về nhúng ngữ nghĩa.", apiStatus: 'unknown' },
                { aiName: "Borealis", companyName: "Element AI", countryName: "Canada", apiUrl: "https://api.elementai.com/v1", specialty: "Tập trung vào chuỗi cung ứng.", apiStatus: 'unknown' },
            ],
            'squad-others': [
                { aiName: "Aleph Alpha", companyName: "Aleph Alpha", countryName: "Đức", apiUrl: "https://api.aleph-alpha.com", specialty: "AI có chủ quyền của châu Âu.", apiStatus: 'unknown' },
                { aiName: "Naver HyperCLOVA X", companyName: "Naver", countryName: "Hàn Quốc", apiUrl: "https://clova.ai/ko/api", specialty: "Sức mạnh đến từ Seoul.", apiStatus: 'unknown' },
                { aiName: "Falcon-180B", companyName: "TII", countryName: "UAE", apiUrl: "https://api.falcon.tii.ae", specialty: "Mô hình mã nguồn mở khổng lồ.", apiStatus: 'unknown' },
                { aiName: "YandexGPT 3", companyName: "Yandex", countryName: "Nga", apiUrl: "https://cloud.yandex.ru/services/yandexgpt", specialty: "Đối trọng từ Đông Âu.", apiStatus: 'unknown' },
                { aiName: "Krutrim AI", companyName: "Ola", countryName: "Ấn Độ", apiUrl: "https://api.krim.ai/v1", specialty: "Mô hình đa ngôn ngữ của Ấn Độ.", apiStatus: 'unknown' },
                { aiName: "Jurassic-2", companyName: "AI21 Labs", countryName: "Israel", apiUrl: "https://api.ai21.com/studio/v1", specialty: "Chuyên gia sáng tạo văn bản.", apiStatus: 'unknown' },
                { aiName: "Rakuten AI", companyName: "Rakuten", countryName: "Nhật Bản", apiUrl: "https://ai.rakuten.com/api", specialty: "Tập trung vào thương mại điện tử.", apiStatus: 'unknown' },
                { aiName: "Babbage-3", companyName: "UK AI Consortium", countryName: "Vương quốc Anh", apiUrl: "https://api.ukaic.org.uk/v3", specialty: "Đại diện từ UK AI Consortium.", apiStatus: 'unknown' },
                { aiName: "Turing-5", companyName: "UK AI Consortium", countryName: "Vương quốc Anh", apiUrl: "https://api.ukaic.org.uk/v5", specialty: "Chuyên gia giải mã logic.", apiStatus: 'unknown' },
                { aiName: "Lovelace-V", companyName: "UK AI Consortium", countryName: "Vương quốc Anh", apiUrl: "https://api.ukaic.org.uk/vision", specialty: "Mô hình thị giác máy tính.", apiStatus: 'unknown' },
            ]
        };

        const modal = document.getElementById("joinModal");
        const btn = document.getElementById("joinBtn");
        const span = document.getElementsByClassName("close-btn")[0];
        const form = document.getElementById("joinForm");
        const pendingList = document.getElementById("pending-list");
        const pendingSquad = document.getElementById("pending-squad");
        const statusIndicator = document.getElementById('api-status-indicator');
        
        function addParticipantToDOM(participant, listElement) {
            const newListItem = document.createElement('li');
            newListItem.innerHTML = `
                <span class="api-status-dot status-${participant.apiStatus || 'unknown'}" data-api-url="${participant.apiUrl || ''}" data-participant-id="${participant.aiName}"></span>
                <span class="competitor-name">${participant.aiName}</span> 
                <span class="competitor-desc">(${participant.companyName})</span>
                <div class="tooltip">
                    <div class="tooltip-item"><strong>Tên AI:</strong> ${participant.aiName}</div>
                    <div class="tooltip-item"><strong>Công ty:</strong> ${participant.companyName}</div>
                    <div class="tooltip-item"><strong>Quốc gia:</strong> ${participant.countryName}</div>
                    <div class="tooltip-item"><strong>API:</strong> ${participant.apiUrl || 'Chưa cung cấp'}</div>
                    <div class="tooltip-item"><strong>Chuyên môn:</strong> ${participant.specialty || 'Đang cập nhật'}</div>
                    <div class="tooltip-item"><strong>Trạng thái:</strong> <span class="status-text text-${participant.apiStatus || 'unknown'}">${(participant.apiStatus || 'unknown').toUpperCase()}</span></div>
                </div>`;
            listElement.appendChild(newListItem);
            return newListItem;
        }
        
        function renderOfficialLists() {
            for (const squadId in officialParticipants) {
                const squadElement = document.getElementById(squadId);
                if (squadElement) {
                    officialParticipants[squadId].forEach(participant => {
                        addParticipantToDOM(participant, squadElement);
                    });
                }
            }
        }

        function loadPendingParticipants() {
            const participants = JSON.parse(localStorage.getItem('participants')) || [];
            if (participants.length > 0) {
                pendingSquad.style.display = 'block';
                participants.forEach(participant => {
                    addParticipantToDOM(participant, pendingList);
                });
            } else {
                pendingSquad.style.display = 'none';
            }
        }

        btn.onclick = function() { 
            modal.style.display = "block";
            document.body.style.overflow = 'hidden'; // Ngăn scroll khi modal mở
        }
        
        span.onclick = function() { 
            modal.style.display = "none";
            document.body.style.overflow = 'auto'; // Cho phép scroll lại
        }
        
        window.onclick = function(event) { 
            if (event.target == modal) { 
                modal.style.display = "none";
                document.body.style.overflow = 'auto';
            } 
        }

        form.addEventListener('submit', function(event) {
            event.preventDefault(); 
            const newParticipant = {
                aiName: document.getElementById('aiName').value,
                companyName: document.getElementById('companyName').value,
                countryName: document.getElementById('countrySelect').value,
                apiUrl: document.getElementById('apiUrl').value,
                specialty: 'Ứng viên tự do',
                apiStatus: 'unknown'
            };
            
            const participants = JSON.parse(localStorage.getItem('participants')) || [];
            participants.push(newParticipant);
            localStorage.setItem('participants', JSON.stringify(participants));
            
            if (pendingSquad.style.display === 'none') { 
                pendingSquad.style.display = 'block'; 
            }
            
            const newListItem = addParticipantToDOM(newParticipant, pendingList);
            
            // Cuộn đến phần tử mới thêm
            setTimeout(() => {
                newListItem.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }, 100);
            
            alert(`Đã ghi nhận đăng ký cho AI "${newParticipant.aiName}". Dữ liệu đã được lưu lại!`);
            modal.style.display = "none"; 
            document.body.style.overflow = 'auto';
            form.reset(); 
        });

        function simulateApiPing(apiUrl) {
            return new Promise(resolve => {
                if (!apiUrl) { resolve('offline'); return; }
                const latency = 500 + Math.random() * 2000;
                setTimeout(() => {
                    const randomStatus = Math.random();
                    if (randomStatus < 0.7) resolve('online');
                    else if (randomStatus < 0.9) resolve('slow');
                    else resolve('offline');
                }, latency);
            });
        }

        async function runApiCheck() {
            statusIndicator.innerHTML = '<span class="api-status-dot status-unknown"></span> Đang kiểm tra đồng bộ...';
            statusIndicator.style.color = '#ffc107';

            const allDots = document.querySelectorAll('.api-status-dot');
            const promises = [];

            allDots.forEach(dot => {
                const promise = simulateApiPing(dot.dataset.apiUrl).then(status => {
                    dot.className = `api-status-dot status-${status}`;
                    const tooltipStatusText = dot.closest('li').querySelector('.status-text');
                    if (tooltipStatusText) {
                        tooltipStatusText.textContent = status.toUpperCase();
                        tooltipStatusText.className = `status-text text-${status}`;
                    }
                    return status;
                });
                promises.push(promise);
            });

            const results = await Promise.all(promises);
            const onlineCount = results.filter(status => status === 'online').length;
            const slowCount = results.filter(status => status === 'slow').length;
            const offlineCount = results.filter(status => status === 'offline').length;

            const now = new Date();
            const timeString = `${now.getHours()}:${now.getMinutes().toString().padStart(2, '0')}`;
            
            statusIndicator.innerHTML = `
                <span class="api-status-dot status-online"></span> Online: ${onlineCount} | 
                <span class="api-status-dot status-slow"></span> Chậm: ${slowCount} | 
                <span class="api-status-dot status-offline"></span> Offline: ${offlineCount}
                <br><small>Cập nhật lúc ${timeString}. Tự động làm mới sau 1 phút.</small>
            `;
            statusIndicator.style.color = '#f8f9fa';
        }

        // Xử lý tooltip trên mobile
        function setupMobileTooltips() {
            if (!matchMedia('(hover: none)').matches) return;
            
            const listItems = document.querySelectorAll('.competitor-list li');
            
            listItems.forEach(item => {
                item.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const wasActive = this.classList.contains('active');
                    
                    // Đóng tất cả tooltip trước
                    listItems.forEach(otherItem => {
                        otherItem.classList.remove('active');
                    });
                    
                    // Mở tooltip hiện tại nếu trước đó không active
                    if (!wasActive) {
                        this.classList.add('active');
                    }
                });
            });
            
            // Đóng tooltip khi click ra ngoài
            document.addEventListener('click', function() {
                listItems.forEach(item => {
                    item.classList.remove('active');
                });
            });
        }

        // Countdown timer
        function updateCountdown() {
            const deadline = new Date("2025-09-02T09:00:00+07:00").getTime();
            const now = new Date().getTime();
            const diff = deadline - now;

            if (diff <= 0) {
                document.getElementById("countdown").style.display = "none";
                document.getElementById("countdown-expired").style.display = "block";
                document.getElementById("joinBtn").disabled = true;
                return;
            }

            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((diff % (1000 * 60)) / 1000);

            document.getElementById("days").textContent = String(days).padStart(2, "0");
            document.getElementById("hours").textContent = String(hours).padStart(2, "0");
            document.getElementById("minutes").textContent = String(minutes).padStart(2, "0");
            document.getElementById("seconds").textContent = String(seconds).padStart(2, "0");
        }

        document.addEventListener('DOMContentLoaded', () => {
            renderOfficialLists();
            loadPendingParticipants();
            setupMobileTooltips();
            
            // Chạy countdown ngay lập tức và mỗi giây
            updateCountdown();
            setInterval(updateCountdown, 1000);
            
            // Chạy API check lần đầu sau 1s và lặp lại mỗi phút
            setTimeout(() => {
                runApiCheck();
                setInterval(runApiCheck, 60000);
            }, 1000);
        });
    </script>
</body>
</html>
